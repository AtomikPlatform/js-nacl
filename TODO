Figure out what to do about randomness. This is a serious problem.
SJCL? http://crypto.stanford.edu/sjcl/
window.crypto.getRandomValues?

Figure out what to do about the shift count overflow warnings.
